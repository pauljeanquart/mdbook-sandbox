<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Websocket - Sandbox</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../SUMMARY.html"></a></li><li class="chapter-item expanded affix "><li class="part-title">Summary</li><li class="chapter-item expanded "><a href="../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">Architecture</li><li class="chapter-item expanded "><a href="../architecture/network-overview.html"><strong aria-hidden="true">2.</strong> Network Overview</a></li><li class="chapter-item expanded "><a href="../architecture/traffic-flow.html"><strong aria-hidden="true">3.</strong> Mixnet Traffic Flow</a></li><li class="chapter-item expanded affix "><li class="part-title">Binaries</li><li class="chapter-item expanded "><a href="../binaries/pre-built-binaries.html"><strong aria-hidden="true">4.</strong> Pre-built Binaries</a></li><li class="chapter-item expanded "><a href="../binaries/building-nym.html"><strong aria-hidden="true">5.</strong> Building from Source</a></li><li class="chapter-item expanded "><a href="../binaries/init-and-config.html"><strong aria-hidden="true">6.</strong> Binary Initialisation and Configuration</a></li><li class="chapter-item expanded "><a href="../binaries/version-compatiblity.html"><strong aria-hidden="true">7.</strong> Version Compatibility Table</a></li><li class="chapter-item expanded affix "><li class="part-title">Nodes</li><li class="chapter-item expanded "><a href="../nodes/setup-guides.html"><strong aria-hidden="true">8.</strong> Node Setup Guides</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../nodes/mix-node-setup.html"><strong aria-hidden="true">8.1.</strong> Mix Node</a></li><li class="chapter-item expanded "><a href="../nodes/gateway-setup.html"><strong aria-hidden="true">8.2.</strong> Gateway</a></li><li class="chapter-item expanded "><a href="../nodes/network-requester-setup.html"><strong aria-hidden="true">8.3.</strong> Network Requester</a></li><li class="chapter-item expanded "><a href="../nodes/validator-setup.html"><strong aria-hidden="true">8.4.</strong> Validator</a></li></ol></li><li class="chapter-item expanded "><a href="../nodes/troubleshooting.html"><strong aria-hidden="true">9.</strong> Troubleshooting</a></li><li class="chapter-item expanded affix "><li class="part-title">Clients</li><li class="chapter-item expanded "><a href="../clients/overview.html"><strong aria-hidden="true">10.</strong> Clients Overview</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../clients/websocket-client.html" class="active"><strong aria-hidden="true">10.1.</strong> Websocket</a></li><li class="chapter-item expanded "><a href="../clients/socks5-client.html"><strong aria-hidden="true">10.2.</strong> Socks5</a></li><li class="chapter-item expanded "><a href="../clients/webassembly-client.html"><strong aria-hidden="true">10.3.</strong> Webassembly</a></li></ol></li><li class="chapter-item expanded "><a href="../clients/addressing-system.html"><strong aria-hidden="true">11.</strong> Addressing System</a></li><li class="chapter-item expanded affix "><li class="part-title">SDK</li><li class="chapter-item expanded "><a href="../sdk/typescript.html"><strong aria-hidden="true">12.</strong> Typescript SDK</a></li><li class="chapter-item expanded "><a href="../sdk/rust.html"><strong aria-hidden="true">13.</strong> Rust SDK (coming soon)</a></li><li class="chapter-item expanded affix "><li class="part-title">Wallet</li><li class="chapter-item expanded "><a href="../wallet/desktop-wallet.html"><strong aria-hidden="true">14.</strong> Desktop Wallet</a></li><li class="chapter-item expanded "><a href="../wallet/cli-wallet.html"><strong aria-hidden="true">15.</strong> CLI Wallet</a></li><li class="chapter-item expanded affix "><li class="part-title">Explorers</li><li class="chapter-item expanded "><a href="../explorers/mixnet-explorer.html"><strong aria-hidden="true">16.</strong> Mixnet Explorer</a></li><li class="chapter-item expanded affix "><li class="part-title">Nyx Blockchain</li><li class="chapter-item expanded "><a href="../nyx/smart-contracts.html"><strong aria-hidden="true">17.</strong> Smart Contracts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../nyx/mixnet-contract.html"><strong aria-hidden="true">17.1.</strong> Mixnet Contract</a></li><li class="chapter-item expanded "><a href="../nyx/vesting-contract.html"><strong aria-hidden="true">17.2.</strong> Vesting Contract</a></li></ol></li><li class="chapter-item expanded "><a href="../nyx/rpc-node.html"><strong aria-hidden="true">18.</strong> RPC Nodes</a></li><li class="chapter-item expanded "><a href="../nyx/ledger-live.html"><strong aria-hidden="true">19.</strong> Ledger Live Support</a></li><li class="chapter-item expanded affix "><li class="part-title">Coconut</li><li class="chapter-item expanded "><a href="../coconut.html"><strong aria-hidden="true">20.</strong> Coconut</a></li><li class="chapter-item expanded "><a href="../bandwidth-credentials.html"><strong aria-hidden="true">21.</strong> Bandwidth Credentials</a></li><li class="chapter-item expanded affix "><li class="part-title">Tools</li><li class="chapter-item expanded "><a href="../tools/nym-cli.html"><strong aria-hidden="true">22.</strong> NymCLI</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Misc.</li><li class="chapter-item expanded "><a href="../coc.html"><strong aria-hidden="true">23.</strong> Code of Conduct</a></li><li class="chapter-item expanded "><a href="../licensing.html"><strong aria-hidden="true">24.</strong> Licensing</a></li><li class="spacer"></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Sandbox</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="websocket-client"><a class="header" href="#websocket-client">Websocket Client</a></h1>
<blockquote>
<p>The Nym Websocket Client was built in the <a href="../binaries/building-nym.html">building nym</a> section. If you haven't yet built Nym and want to run the code on this page, go there first.</p>
</blockquote>
<h2 id="client-setup"><a class="header" href="#client-setup">Client setup</a></h2>
<h3 id="viewing-command-help"><a class="header" href="#viewing-command-help">Viewing command help</a></h3>
<p>You can check that your binaries are properly compiled with:</p>
<pre><code>./nym-client --help
</code></pre>
<pre><code class="language-admonish example collapsible=true title=&quot;Console output&quot;">```

      _ __  _   _ _ __ ___
     | '_ \| | | | '_ \ _ \
     | | | | |_| | | | | | |
     |_| |_|\__, |_| |_| |_|
            |___/

             (client - version {{platform_release_version}})

    
      nym-client {{platform_release_version}}
      Nymtech
      Implementation of the Nym Client

      USAGE:
          nym-client [OPTIONS] &lt;SUBCOMMAND&gt;

      OPTIONS:
              --config-env-file &lt;CONFIG_ENV_FILE&gt;
                  Path pointing to an env file that configures the client

          -h, --help
                  Print help information

          -V, --version
                  Print version information

      SUBCOMMANDS:
          completions          Generate shell completions
          generate-fig-spec    Generate Fig specification
          help                 Print this message or the help of the given subcommand(s)
          init                 Initialise a Nym client. Do this first!
          run                  Run the Nym client with provided configuration client optionally
                               overriding set parameters
          upgrade              Try to upgrade the client


```
</code></pre>
<p>The two most important commands you will issue to the client are: </p>
<ul>
<li><code>init</code> - initalise a new client instance. </li>
<li><code>run</code> - run a mixnet client process. </li>
</ul>
<p>You can check the necessary parameters for the available commands by running:</p>
<pre><code>./nym-client &lt;command&gt; --help 
</code></pre>
<h3 id="initialising-your-client"><a class="header" href="#initialising-your-client">Initialising your client</a></h3>
<p>Before you can use the client, you need to initalise a new instance of it. Each instance of the client has its own public/private keypair, and connects to its own gateway node. Taken together, these 3 things (public/private keypair + gateway node identity key) make up an app's identity.</p>
<p>Initialising a new client instance can be done with the following command:</p>
<pre><code>./nym-client init --id &lt;client_id&gt; 
</code></pre>
<pre><code class="language-admonish example collapsible=true title=&quot;Console output&quot;">```
      Initialising client...
      Saved all generated keys
      Saved configuration file to &quot;/home/mx/.nym/clients/client/config/config.toml&quot;
      Using gateway: BNjYZPxzcJwczXHHgBxCAyVJKxN6LPteDRrKapxWmexv
      Client configuration completed.




      The address of this client is: 7bxykcEH1uGNMr8mxGABvLJA44nbYt6Rp7xXHhJ4wQVk.HpnFbaMJ8NN1cp5ZPdPTc2GoBDnG4Jd51Sti32tbf3tF@BNjYZPxzcJwczXHHgBxCAyVJKxN6LPteDRrKapxWmexv

```
</code></pre>
<p>The <code>--id</code> in the example above is a local identifier so that you can name your clients; it is <strong>never</strong> transmitted over the network.</p>
<p>There is an optional <code>--gateway</code> flag that you can use if you want to use a specific gateway. The supplied argument is the <code>Identity Key</code> of the gateway you wish to use, which can be found on the <a href="https://explorer.nymtech.net/network-components/gateways">mainnet Network Explorer</a> or <a href="https://sandbox-explorer.nymtech.net/network-components/gateways">Sandbox Testnet Explorer</a> depending on which network you are on. </p>
<p>Not passing this argument will randomly select a gateway for your client.</p>
<h4 id="choosing-a-gateway"><a class="header" href="#choosing-a-gateway">Choosing a Gateway</a></h4>
<p>By default - as in the example above - your client will choose a random gateway to connect to. </p>
<p>However, there are several options for choosing a gateway, if you do not want one that is randomly assigned to your client:</p>
<ul>
<li>If you wish to connect to a specific gateway, you can specify this with the <code>--gateway</code> flag when running <code>init</code>. </li>
<li>You can also choose a gateway based on its location relative to your client. This can be done by appending the <code>--latency-based-routing</code> flag to your <code>init</code> command. This command means that to select a gateway, your client will: 
<ul>
<li>fetch a list of all availiable gateways</li>
<li>send few ping messages to all of them, and measure response times. </li>
<li>create a weighted distribution to randomly choose one, favouring ones with lower latency. </li>
</ul>
</li>
</ul>
<blockquote>
<p>Note this doesn't mean that your client will pick the closest gateway to you, but it will be far more likely to connect to gateway with a 20ms ping rather than 200ms</p>
</blockquote>
<h3 id="configuring-your-client"><a class="header" href="#configuring-your-client">Configuring your client</a></h3>
<p>When you initalise a client instance, a configuration directory will be generated and stored in <code>$HOME_DIR/.nym/clients/&lt;client-name&gt;/</code>.</p>
<pre><code>/home/&lt;user&gt;/.nym/clients/&lt;client_id&gt;/
├── config
│   └── config.toml
└── data
    ├── private_identity.pem
    └── public_identity.pem
</code></pre>
<p>The <code>config.toml</code> file contains client configuration options, while the two <code>pem</code> files contain client key information.</p>
<p>The generated files contain the client name, public/private keypairs, and gateway address. The name <code>&lt;client_id&gt;</code> in the example above is just a local identifier so that you can name your clients.</p>
<h4 id="configuring-your-client-for-docker"><a class="header" href="#configuring-your-client-for-docker">Configuring your client for Docker</a></h4>
<p>By default, the native client listens to host <code>127.0.0.1</code>. However this can be an issue if you wish to run a client in a Dockerized environment, where it can be convenenient to listen on a different host such as <code>0.0.0.0</code>. </p>
<p>You can set this via the <code>--host</code> flag during either the <code>init</code> or <code>run</code> commands. </p>
<p>Alternatively, a custom host can be set in the <code>config.toml</code> file under the <code>socket</code> section. If you do this, remember to restart your client process. </p>
<h3 id="running-your-client"><a class="header" href="#running-your-client">Running your client</a></h3>
<p>You can run the initalised client by doing this:</p>
<pre><code>./nym-client run --id &lt;client_id&gt;
</code></pre>
<p>When you run the client, it immediately starts generating (fake) cover traffic and sending it to the mixnet.</p>
<p>When the client is first started, it will reach out to the Nym network's validators, and get a list of available Nym nodes (gateways, mixnodes, and validators). We call this list of nodes the network <em>topology</em>. The client does this so that it knows how to connect, register itself with the network, and know which mixnodes it can route Sphinx packets through.</p>
<h2 id="using-your-client"><a class="header" href="#using-your-client">Using your client</a></h2>
<h3 id="connecting-to-the-local-websocket"><a class="header" href="#connecting-to-the-local-websocket">Connecting to the local websocket</a></h3>
<p>The Nym native client exposes a websocket interface that your code connects to. To program your app, choose a websocket library for whatever language you're using. The <strong>default</strong> websocket port is <code>1977</code>, you can override that in the client config if you want.</p>
<p>The Nym monorepo includes websocket client example code for Rust, Go, Javacript, and Python, all of which can be found <a href="https://github.com/nymtech/nym/tree/release/%7B%7Bplatform_release_version%7D%7D/clients/native/examples">here</a></p>
<blockquote>
<p>Rust users can run the examples with <code>cargo run --example &lt;rust_file&gt;.rs</code>, as the examples are not organised in the same way as the other examples, due to already being inside a Cargo project. </p>
</blockquote>
<p>All of these code examples will do the following: </p>
<ul>
<li>connect to a running websocket client on port <code>1977</code></li>
<li>format a message to send in either JSON or Binary format. Nym messages have defined JSON formats.</li>
<li>send the message into the websocket. The native client packages the message into a Sphinx packet and sends it to the mixnet</li>
<li>wait for confirmation that the message hit the native client</li>
<li>wait to receive messages from other Nym apps</li>
</ul>
<p>By varying the message content, you can easily build sophisticated service provider apps. For example, instead of printing the response received from the mixnet, your service provider might take some action on behalf of the user - perhaps initiating a network request, a blockchain transaction, or writing to a local data store.</p>
<blockquote>
<p>You can find an example of building both frontend and service provider code with the websocket client in the <a href="https://nymtech.net/developers/tutorials/simple-service-provider.html">Simple Service Provider Tutorial</a> in the Developer Portal. </p>
</blockquote>
<h3 id="message-types"><a class="header" href="#message-types">Message Types</a></h3>
<p>There are a small number of messages that your application sends up the websocket to interact with the native client, as follows.</p>
<h4 id="sending-text"><a class="header" href="#sending-text">Sending text</a></h4>
<p>If you want to send text information through the mixnet, format a message like this one and poke it into the websocket:</p>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;send&quot;,
  &quot;message&quot;: &quot;the message&quot;,
  &quot;recipient&quot;: &quot;71od3ZAupdCdxeFNg8sdonqfZTnZZy1E86WYKEjxD4kj@FWYoUrnKuXryysptnCZgUYRTauHq4FnEFu2QGn5LZWbm&quot;
}
</code></pre>
<p>In some applications, e.g. where people are chatting with friends who they know, you might want to include unencrypted reply information in the message field. This provides an easy way for the receiving chat to then turn around and send a reply message:</p>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;send&quot;,
  &quot;message&quot;: {
    &quot;sender&quot;: &quot;198427b63ZAupdCdxeFNg8sdonqfZTnZZy1E86WYKEjxD4kj@FWYoUrnKuXryysptnCZgUYRTauHq4FnEFu2QGn5LZWbm&quot;,
    &quot;chatMessage&quot;: &quot;hi julia!&quot;
  },
  &quot;recipient&quot;: &quot;71od3ZAupdCdxeFNg8sdonqfZTnZZy1E86WYKEjxD4kj@FWYoUrnKuXryysptnCZgUYRTauHq4FnEFu2QGn5LZWbm&quot;
}
</code></pre>
<p>If that fits your security model, good. However, it may be the case that you want to send <strong>anonymous replies using Single Use Reply Blocks (SURBs)</strong>. </p>
<p>You can read more about SURBs <a href="../architecture/traffic-flow.html#private-replies-using-surbs">here</a> but in short they are ways for the receiver of this message to anonymously reply to you - the sender - without them having to know your nym address. </p>
<p>Your client will send along a number of <code>replySurbs</code> to the recipient of the message. These are pre-addressed Sphinx packets that the recipient can write to, but not view the address. If the recipient is unable to fit the response data into the bucket of SURBs sent to it, it will use a SURB to request more SURBs be sent to it. </p>
<pre><code class="language-json">{
    &quot;type&quot;: &quot;sendAnonymous&quot;, 
    &quot;message&quot;: &quot;something you want to keep secret&quot;
    &quot;recipient&quot;: &quot;71od3ZAupdCdxeFNg8sdonqfZTnZZy1E86WYKEjxD4kj@FWYoUrnKuXryysptnCZgUYRTauHq4FnEFu2QGn5LZWbm&quot;
    &quot;replySurbs&quot;: 100 // however many reply SURBs to send along with your message
}
</code></pre>
<p>Each bucket of replySURBs, when received as part of an incoming message, has a unique session identifier, which <strong>only identifies the bucket of pre-addressed packets</strong>. This is necessary to make sure that your app is replying to the correct people with the information meant for them! Constructing a reply with SURBs looks something like this (where <code>senderTag</code> was parsed from the incoming message)</p>
<pre><code class="language-json">{
    &quot;type&quot;: &quot;reply&quot;, 
    &quot;message&quot;: &quot;reply you also want to keep secret&quot;, 
    &quot;senderTag&quot;: &quot;the sender tag you parsed from the incoming message&quot;
}
</code></pre>
<h4 id="sending-binary-data"><a class="header" href="#sending-binary-data">Sending binary data</a></h4>
<p>You can also send bytes instead of JSON. For that you have to send a binary websocket frame containing a binary encoded
Nym <a href="https://github.com/nymtech/nym/blob/develop/clients/native/websocket-requests/src/requests.rs#L25"><code>ClientRequest</code></a> containing the same information. </p>
<p>As a response the <code>native-client</code> will send a <code>ServerResponse</code> to be decoded. </p>
<p>You can find examples of sending and receiving binary data in the Rust, Python and Go <a href="https://github.com/nymtech/nym/tree/release/%7B%7Bplatform_release_version%7D%7D/clients/native/examples">code examples</a>, and an example project from the Nym community <a href="https://github.com/sgeisler/btcbc-rs/">BTC-BC</a>: Bitcoin transaction transmission via Nym, a client and service provider written in Rust.</p>
<h4 id="getting-your-own-address"><a class="header" href="#getting-your-own-address">Getting your own address</a></h4>
<p>Sometimes, when you start your app, it can be convenient to ask the native client to tell you what your own address is (from the saved configuration files). To do this, send:</p>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;selfAddress&quot;
}
</code></pre>
<p>You'll get back:</p>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;selfAddress&quot;,
  &quot;address&quot;: &quot;the-address&quot; // e.g. &quot;71od3ZAupdCdxeFNg8sdonqfZTnZZy1E86WYKEjxD4kj@FWYoUrnKuXryysptnCZgUYRTauHq4FnEFu2QGn5LZWbm&quot;
}
</code></pre>
<h4 id="error-messages"><a class="header" href="#error-messages">Error messages</a></h4>
<p>Errors from the app's client, or from the gateway, will be sent down the websocket to your code in the following format:</p>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;error&quot;,
  &quot;message&quot;: &quot;string message&quot;
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../clients/overview.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../clients/socks5-client.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../clients/overview.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../clients/socks5-client.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
